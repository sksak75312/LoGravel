---
title: 'Vue.js 完整開發指南：從入門到實戰'
description: '深入學習 Vue.js 框架，涵蓋組件開發、狀態管理、路由、Composition API 以及 Vue 3 最新特性，打造現代化的單頁應用程式。'
date: '2025-06-04'
keywords:
  ['Vue.js', 'Vue 3', 'Composition API', 'Pinia', 'Vue Router', '前端框架']
openGraph: '/git.png'
slug: 'vuejs-complete-guide'
category: 'Vue'
---

# Vue.js 完整開發指南：從入門到實戰

Vue.js 是一個漸進式的 JavaScript 框架，以其易學易用、靈活性強而廣受開發者喜愛。這篇文章將帶你從 Vue 的基本概念開始，逐步掌握組件開發、狀態管理、路由處理，以及 Vue 3 的最新特性。

---

## 📌 Vue.js 簡介

Vue.js 採用「漸進式」設計理念，你可以根據專案需求逐步引入 Vue 的各種功能。無論是簡單的互動效果還是複雜的單頁應用程式，Vue 都能提供合適的解決方案。

### Vue 的核心特性

- **響應式數據綁定**：自動追蹤數據變化並更新 DOM
- **組件化開發**：將 UI 拆分為可重用的組件
- **指令系統**：提供豐富的模板指令
- **虛擬 DOM**：高效的 DOM 更新機制
- **生態系統完整**：官方提供路由、狀態管理等解決方案

---

## 🚀 Vue 3 基礎語法

### 創建 Vue 應用

```javascript
// main.js
import { createApp } from 'vue';
import App from './App.vue';

const app = createApp(App);
app.mount('#app');
```

### 模板語法與數據綁定

```vue
<template>
  <div class="app">
    <!-- 文本插值 -->
    <h1>{{ message }}</h1>

    <!-- 屬性綁定 -->
    <img :src="imageSrc" :alt="imageAlt" />

    <!-- 事件監聽 -->
    <button @click="handleClick">點擊次數: {{ count }}</button>

    <!-- 雙向數據綁定 -->
    <input v-model="userInput" placeholder="輸入一些文字" />
    <p>你輸入的是: {{ userInput }}</p>

    <!-- 條件渲染 -->
    <div v-if="showMessage">
      <p>這個訊息會根據條件顯示</p>
    </div>
    <div v-else>
      <p>替代訊息</p>
    </div>

    <!-- 列表渲染 -->
    <ul>
      <li v-for="item in items" :key="item.id" :class="{ active: item.active }">
        {{ item.name }}
      </li>
    </ul>
  </div>
</template>

<script>
import { ref, reactive } from 'vue';

export default {
  name: 'BasicExample',
  setup() {
    // 響應式數據
    const message = ref('Hello Vue 3!');
    const count = ref(0);
    const userInput = ref('');
    const showMessage = ref(true);

    // 響應式物件
    const items = reactive([
      { id: 1, name: '項目 1', active: true },
      { id: 2, name: '項目 2', active: false },
      { id: 3, name: '項目 3', active: true },
    ]);

    // 計算屬性
    const imageSrc = ref('https://vuejs.org/images/logo.png');
    const imageAlt = ref('Vue.js Logo');

    // 方法
    const handleClick = () => {
      count.value++;
    };

    // 返回模板需要的數據和方法
    return {
      message,
      count,
      userInput,
      showMessage,
      items,
      imageSrc,
      imageAlt,
      handleClick,
    };
  },
};
</script>

<style scoped>
.app {
  max-width: 600px;
  margin: 0 auto;
  padding: 20px;
}

.active {
  color: #42b883;
  font-weight: bold;
}
</style>
```

---

## 🧩 組件開發

### 基本組件結構

```vue
<!-- UserCard.vue -->
<template>
  <div class="user-card">
    <img :src="user.avatar" :alt="user.name" class="avatar" />
    <div class="user-info">
      <h3>{{ user.name }}</h3>
      <p>{{ user.email }}</p>
      <div class="tags">
        <span v-for="tag in user.tags" :key="tag" class="tag">
          {{ tag }}
        </span>
      </div>
      <button @click="handleFollow" :class="buttonClass">
        {{ isFollowing ? '已關注' : '關注' }}
      </button>
    </div>
  </div>
</template>

<script>
import { ref, computed } from 'vue';

export default {
  name: 'UserCard',
  props: {
    user: {
      type: Object,
      required: true,
      validator: (user) => {
        return user.name && user.email;
      },
    },
    initialFollowing: {
      type: Boolean,
      default: false,
    },
  },
  emits: ['follow', 'unfollow'],
  setup(props, { emit }) {
    const isFollowing = ref(props.initialFollowing);

    const buttonClass = computed(() => ({
      btn: true,
      'btn-primary': !isFollowing.value,
      'btn-secondary': isFollowing.value,
    }));

    const handleFollow = () => {
      isFollowing.value = !isFollowing.value;

      if (isFollowing.value) {
        emit('follow', props.user);
      } else {
        emit('unfollow', props.user);
      }
    };

    return {
      isFollowing,
      buttonClass,
      handleFollow,
    };
  },
};
</script>

<style scoped>
.user-card {
  display: flex;
  padding: 20px;
  border: 1px solid #e1e5e9;
  border-radius: 8px;
  margin-bottom: 16px;
}

.avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  margin-right: 16px;
}

.user-info {
  flex: 1;
}

.tags {
  margin: 8px 0;
}

.tag {
  display: inline-block;
  background: #f0f0f0;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  margin-right: 4px;
}

.btn {
  padding: 8px 16px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.3s;
}

.btn-primary {
  background: #42b883;
  color: white;
}

.btn-secondary {
  background: #6c757d;
  color: white;
}
</style>
```

### 使用組件

```vue
<!-- App.vue -->
<template>
  <div class="app">
    <h1>使用者列表</h1>
    <UserCard
      v-for="user in users"
      :key="user.id"
      :user="user"
      :initial-following="user.isFollowing"
      @follow="handleFollow"
      @unfollow="handleUnfollow"
    />
  </div>
</template>

<script>
import { reactive } from 'vue';
import UserCard from './components/UserCard.vue';

export default {
  name: 'App',
  components: {
    UserCard,
  },
  setup() {
    const users = reactive([
      {
        id: 1,
        name: '張小明',
        email: 'ming@example.com',
        avatar: 'https://via.placeholder.com/60',
        tags: ['Vue.js', 'JavaScript'],
        isFollowing: false,
      },
      {
        id: 2,
        name: '李小華',
        email: 'hua@example.com',
        avatar: 'https://via.placeholder.com/60',
        tags: ['React', 'TypeScript'],
        isFollowing: true,
      },
    ]);

    const handleFollow = (user) => {
      console.log('關注了:', user.name);
    };

    const handleUnfollow = (user) => {
      console.log('取消關注:', user.name);
    };

    return {
      users,
      handleFollow,
      handleUnfollow,
    };
  },
};
</script>
```

---

## ⚡ Composition API 深入

### 組合式函數 (Composables)

```javascript
// composables/useCounter.js
import { ref, computed } from 'vue';

export function useCounter(initialValue = 0) {
  const count = ref(initialValue);

  const doubleCount = computed(() => count.value * 2);

  const increment = () => {
    count.value++;
  };

  const decrement = () => {
    count.value--;
  };

  const reset = () => {
    count.value = initialValue;
  };

  return {
    count,
    doubleCount,
    increment,
    decrement,
    reset,
  };
}

// composables/useFetch.js
import { ref, watchEffect } from 'vue';

export function useFetch(url) {
  const data = ref(null);
  const error = ref(null);
  const loading = ref(false);

  const fetchData = async () => {
    loading.value = true;
    error.value = null;

    try {
      const response = await fetch(url.value);
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      data.value = await response.json();
    } catch (err) {
      error.value = err.message;
    } finally {
      loading.value = false;
    }
  };

  watchEffect(() => {
    if (url.value) {
      fetchData();
    }
  });

  return {
    data,
    error,
    loading,
    refetch: fetchData,
  };
}
```

### 使用組合式函數

```vue
<template>
  <div class="counter-demo">
    <h2>計數器範例</h2>
    <p>計數: {{ count }}</p>
    <p>雙倍: {{ doubleCount }}</p>

    <div class="controls">
      <button @click="increment">+1</button>
      <button @click="decrement">-1</button>
      <button @click="reset">重置</button>
    </div>

    <hr />

    <h2>API 數據獲取</h2>
    <div v-if="loading">載入中...</div>
    <div v-else-if="error">錯誤: {{ error }}</div>
    <div v-else-if="data">
      <h3>{{ data.title }}</h3>
      <p>{{ data.body }}</p>
    </div>
    <button @click="refetch">重新載入</button>
  </div>
</template>

<script>
import { ref } from 'vue';
import { useCounter } from '@/composables/useCounter';
import { useFetch } from '@/composables/useFetch';

export default {
  name: 'ComposableDemo',
  setup() {
    // 使用計數器
    const { count, doubleCount, increment, decrement, reset } = useCounter(10);

    // 使用數據獲取
    const apiUrl = ref('https://jsonplaceholder.typicode.com/posts/1');
    const { data, error, loading, refetch } = useFetch(apiUrl);

    return {
      count,
      doubleCount,
      increment,
      decrement,
      reset,
      data,
      error,
      loading,
      refetch,
    };
  },
};
</script>
```

---

## 🛣️ Vue Router 路由管理

### 路由配置

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router';
import Home from '@/views/Home.vue';
import About from '@/views/About.vue';
import Products from '@/views/Products.vue';
import ProductDetail from '@/views/ProductDetail.vue';
import NotFound from '@/views/NotFound.vue';

const routes = [
  {
    path: '/',
    name: 'Home',
    component: Home,
  },
  {
    path: '/about',
    name: 'About',
    component: About,
    meta: { requiresAuth: false },
  },
  {
    path: '/products',
    name: 'Products',
    component: Products,
    children: [
      {
        path: ':id',
        name: 'ProductDetail',
        component: ProductDetail,
        props: true,
      },
    ],
  },
  {
    path: '/user/:id(\\d+)',
    name: 'User',
    component: () => import('@/views/User.vue'),
    props: (route) => ({ id: Number(route.params.id) }),
  },
  {
    path: '/:pathMatch(.*)*',
    name: 'NotFound',
    component: NotFound,
  },
];

const router = createRouter({
  history: createWebHistory(),
  routes,
  scrollBehavior(to, from, savedPosition) {
    if (savedPosition) {
      return savedPosition;
    } else {
      return { top: 0 };
    }
  },
});

// 路由守衛
router.beforeEach((to, from, next) => {
  // 檢查是否需要認證
  if (to.meta.requiresAuth && !isAuthenticated()) {
    next('/login');
  } else {
    next();
  }
});

function isAuthenticated() {
  // 檢查用戶認證狀態
  return localStorage.getItem('authToken') !== null;
}

export default router;
```

### 路由組件

```vue
<!-- views/Products.vue -->
<template>
  <div class="products">
    <h1>產品列表</h1>

    <div class="product-grid">
      <div
        v-for="product in products"
        :key="product.id"
        class="product-card"
        @click="goToProduct(product.id)"
      >
        <img :src="product.image" :alt="product.name" />
        <h3>{{ product.name }}</h3>
        <p class="price">${{ product.price }}</p>
      </div>
    </div>

    <!-- 子路由出口 -->
    <router-view></router-view>
  </div>
</template>

<script>
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';

export default {
  name: 'Products',
  setup() {
    const router = useRouter();
    const products = ref([]);

    const fetchProducts = async () => {
      // 模擬 API 調用
      products.value = [
        { id: 1, name: 'iPhone 15', price: 32900, image: '/iphone.jpg' },
        { id: 2, name: 'MacBook Pro', price: 65900, image: '/macbook.jpg' },
        { id: 3, name: 'iPad Air', price: 19900, image: '/ipad.jpg' },
      ];
    };

    const goToProduct = (id) => {
      router.push({ name: 'ProductDetail', params: { id } });
    };

    onMounted(() => {
      fetchProducts();
    });

    return {
      products,
      goToProduct,
    };
  },
};
</script>
```

### 程式化導航

```vue
<template>
  <div class="navigation-demo">
    <button @click="goHome">回首頁</button>
    <button @click="goToUser">查看用戶</button>
    <button @click="goBack">返回</button>
    <button @click="replace">替換當前頁面</button>
  </div>
</template>

<script>
import { useRouter, useRoute } from 'vue-router';

export default {
  setup() {
    const router = useRouter();
    const route = useRoute();

    const goHome = () => {
      router.push('/');
    };

    const goToUser = () => {
      router.push({
        name: 'User',
        params: { id: 123 },
        query: { tab: 'profile' },
      });
    };

    const goBack = () => {
      router.go(-1);
    };

    const replace = () => {
      router.replace('/about');
    };

    // 監聽路由變化
    watch(
      () => route.params,
      (newParams) => {
        console.log('路由參數變化:', newParams);
      },
    );

    return {
      goHome,
      goToUser,
      goBack,
      replace,
    };
  },
};
</script>
```

---

## 🗄️ Pinia 狀態管理

### Store 定義

```javascript
// stores/user.js
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';

export const useUserStore = defineStore('user', () => {
  // 狀態
  const user = ref(null);
  const isLoggedIn = ref(false);
  const preferences = ref({
    theme: 'light',
    language: 'zh-TW',
  });

  // Getters (計算屬性)
  const fullName = computed(() => {
    return user.value ? `${user.value.firstName} ${user.value.lastName}` : '';
  });

  const isAdmin = computed(() => {
    return user.value?.role === 'admin';
  });

  // Actions (方法)
  const login = async (credentials) => {
    try {
      const response = await fetch('/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(credentials),
      });

      if (response.ok) {
        const userData = await response.json();
        user.value = userData.user;
        isLoggedIn.value = true;

        // 保存到 localStorage
        localStorage.setItem('authToken', userData.token);

        return { success: true };
      } else {
        throw new Error('登入失敗');
      }
    } catch (error) {
      return { success: false, error: error.message };
    }
  };

  const logout = () => {
    user.value = null;
    isLoggedIn.value = false;
    localStorage.removeItem('authToken');
  };

  const updatePreferences = (newPrefs) => {
    preferences.value = { ...preferences.value, ...newPrefs };

    // 保存到 localStorage
    localStorage.setItem('userPreferences', JSON.stringify(preferences.value));
  };

  const loadUserFromStorage = () => {
    const token = localStorage.getItem('authToken');
    const savedPrefs = localStorage.getItem('userPreferences');

    if (token) {
      // 這裡應該驗證 token 並獲取用戶資料
      isLoggedIn.value = true;
    }

    if (savedPrefs) {
      preferences.value = JSON.parse(savedPrefs);
    }
  };

  return {
    // 狀態
    user,
    isLoggedIn,
    preferences,
    // Getters
    fullName,
    isAdmin,
    // Actions
    login,
    logout,
    updatePreferences,
    loadUserFromStorage,
  };
});

// stores/cart.js
import { defineStore } from 'pinia';
import { ref, computed } from 'vue';

export const useCartStore = defineStore('cart', () => {
  const items = ref([]);

  const totalItems = computed(() => {
    return items.value.reduce((sum, item) => sum + item.quantity, 0);
  });

  const totalPrice = computed(() => {
    return items.value.reduce(
      (sum, item) => sum + item.price * item.quantity,
      0,
    );
  });

  const addItem = (product) => {
    const existingItem = items.value.find((item) => item.id === product.id);

    if (existingItem) {
      existingItem.quantity++;
    } else {
      items.value.push({
        ...product,
        quantity: 1,
      });
    }
  };

  const removeItem = (productId) => {
    const index = items.value.findIndex((item) => item.id === productId);
    if (index > -1) {
      items.value.splice(index, 1);
    }
  };

  const updateQuantity = (productId, quantity) => {
    const item = items.value.find((item) => item.id === productId);
    if (item) {
      if (quantity <= 0) {
        removeItem(productId);
      } else {
        item.quantity = quantity;
      }
    }
  };

  const clearCart = () => {
    items.value = [];
  };

  return {
    items,
    totalItems,
    totalPrice,
    addItem,
    removeItem,
    updateQuantity,
    clearCart,
  };
});
```

### 在組件中使用 Store

```vue
<template>
  <div class="shopping-cart">
    <header class="cart-header">
      <h2>購物車 ({{ totalItems }} 項商品)</h2>
      <p class="total">總計: ${{ totalPrice }}</p>
    </header>

    <div v-if="items.length === 0" class="empty-cart">
      <p>購物車是空的</p>
    </div>

    <div v-else class="cart-items">
      <div v-for="item in items" :key="item.id" class="cart-item">
        <img :src="item.image" :alt="item.name" />
        <div class="item-details">
          <h3>{{ item.name }}</h3>
          <p class="price">${{ item.price }}</p>
        </div>
        <div class="quantity-controls">
          <button @click="decreaseQuantity(item.id)">-</button>
          <span>{{ item.quantity }}</span>
          <button @click="increaseQuantity(item.id)">+</button>
        </div>
        <button @click="removeFromCart(item.id)" class="remove-btn">
          移除
        </button>
      </div>
    </div>

    <div v-if="items.length > 0" class="cart-actions">
      <button @click="clearAllItems" class="clear-btn">清空購物車</button>
      <button @click="checkout" class="checkout-btn">結帳</button>
    </div>
  </div>
</template>

<script>
import { useCartStore } from '@/stores/cart';
import { useUserStore } from '@/stores/user';

export default {
  name: 'ShoppingCart',
  setup() {
    const cartStore = useCartStore();
    const userStore = useUserStore();

    const increaseQuantity = (id) => {
      const item = cartStore.items.find((i) => i.id === id);
      if (item) {
        cartStore.updateQuantity(id, item.quantity + 1);
      }
    };

    const decreaseQuantity = (id) => {
      const item = cartStore.items.find((i) => i.id === id);
      if (item && item.quantity > 1) {
        cartStore.updateQuantity(id, item.quantity - 1);
      }
    };

    const removeFromCart = (id) => {
      cartStore.removeItem(id);
    };

    const clearAllItems = () => {
      cartStore.clearCart();
    };

    const checkout = () => {
      if (!userStore.isLoggedIn) {
        // 導向登入頁面
        router.push('/login');
        return;
      }

      // 執行結帳流程
      console.log('開始結帳流程');
    };

    return {
      // Store 狀態和 getters
      items: cartStore.items,
      totalItems: cartStore.totalItems,
      totalPrice: cartStore.totalPrice,

      // 方法
      increaseQuantity,
      decreaseQuantity,
      removeFromCart,
      clearAllItems,
      checkout,
    };
  },
};
</script>
```

---

## 🎨 進階功能

### 自定義指令

```javascript
// directives/focus.js
export const focus = {
  mounted(el) {
    el.focus()
  }
}

// directives/clickOutside.js
export const clickOutside = {
  beforeMount(el, binding) {
    el.clickOutsideEvent = function(event) {
      if (!(el === event.target || el.contains(event.target))) {
        binding.value(event)
      }
    }
    document.addEventListener('click', el.clickOutsideEvent)
  },
  unmounted(el) {
    document.removeEventListener('click', el.clickOutsideEvent)
  }
}

// 使用自定義指令
<template>
  <div class="modal" v-show="showModal" v-click-outside="closeModal">
    <input v-focus placeholder="自動聚焦">
    <button @click="closeModal">關閉</button>
  </div>
</template>
```

### Teleport 傳送門

```vue
<template>
  <div class="app">
    <h1>主應用</h1>
    <button @click="showModal = true">開啟模態框</button>

    <!-- 傳送到 body 元素 -->
    <Teleport to="body">
      <div v-if="showModal" class="modal-overlay" @click="showModal = false">
        <div class="modal" @click.stop>
          <h2>模態框內容</h2>
          <p>這個模態框被渲染到 body 元素中</p>
          <button @click="showModal = false">關閉</button>
        </div>
      </div>
    </Teleport>
  </div>
</template>

<script>
import { ref } from 'vue';

export default {
  setup() {
    const showModal = ref(false);

    return {
      showModal,
    };
  },
};
</script>

<style>
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal {
  background: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 400px;
  width: 90%;
}
</style>
```

### Suspense 異步組件

```vue
<!-- AsyncComponent.vue -->
<template>
  <div class="async-data">
    <h2>異步數據</h2>
    <div v-for="post in posts" :key="post.id" class="post">
      <h3>{{ post.title }}</h3>
      <p>{{ post.body }}</p>
    </div>
  </div>
</template>

<script>
export default {
  name: 'AsyncComponent',
  async setup() {
    // 模擬異步數據獲取
    const response = await fetch('https://jsonplaceholder.typicode.com/posts');
    const posts = await response.json();

    return {
      posts: posts.slice(0, 5), // 只取前 5 筆
    };
  },
};
</script>

<!-- 父組件使用 Suspense -->
<template>
  <div class="app">
    <h1>使用 Suspense</h1>

    <Suspense>
      <template #default>
        <AsyncComponent />
      </template>

      <template #fallback>
        <div class="loading">
          <p>載入中...</p>
          <div class="spinner"></div>
        </div>
      </template>
    </Suspense>
  </div>
</template>

<script>
import { defineAsyncComponent } from 'vue';

export default {
  components: {
    AsyncComponent: defineAsyncComponent(() => import('./AsyncComponent.vue')),
  },
};
</script>
```

---

## 🛠️ 開發工具與最佳實踐

### Vue DevTools

Vue DevTools 是開發 Vue 應用必備的瀏覽器擴充功能，提供：

- **組件樹檢查**：查看組件層次結構和 props
- **狀態管理**：監控 Pinia/Vuex 狀態變化
- **事件追蹤**：查看組件間的事件傳遞
- **性能分析**：分析組件渲染性能

### 性能優化技巧

```vue
<template>
  <div class="optimized-component">
    <!-- 使用 v-show
```
